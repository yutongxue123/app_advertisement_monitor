{"uid":"bceb07a029fffb6b","name":"新建案热词搜索","fullName":"test_cases.test_build_search_page.TestBuildSearchPage#test_hot_keyword_search","historyId":"f989f773dd408de9261434a9e69e05fa","time":{"start":1704886278688,"stop":1704886284825,"duration":6137},"description":"\n        测试热门关键词搜索\n        ","descriptionHtml":"<pre><code>    测试热门关键词搜索\n</code></pre>\n","status":"broken","statusMessage":"AttributeError: 'str' object has no attribute 'PocoTargetTimeout'","statusTrace":"self = <pages.build_search_page.BuildSearchPage object at 0x00000209F9BF9C40>\npoco = '明日莊園', text = None, timeout = 3\n\n    def poco_wait_click(self, poco=None, text=None, timeout=10):\n        \"\"\"\n        等待元素出现，存在则点击，否则抛出异常\n        :param poco: 控件元素名\n        :param timeout: 超时时间\n        \"\"\"\n        try:\n            if poco is not None:\n>               self.poco(poco).wait_for_appearance(timeout=timeout)\n\npages\\base_page.py:360: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = UIObjectProxy of \"明日莊園\", timeout = 3\n\n    def wait_for_appearance(self, timeout=120):\n        \"\"\"\n        Block and wait until the UI element **appears** within the given timeout. When timeout, the\n        :py:class:`PocoTargetTimeout <poco.exceptions.PocoTargetTimeout>` is raised.\n    \n        Args:\n            timeout: maximum waiting time in seconds\n    \n        Raises:\n            PocoTargetTimeout: when timeout\n        \"\"\"\n    \n        start = time.time()\n        while not self.exists():\n            self.poco.sleep_for_polling_interval()\n            if time.time() - start > timeout:\n>               raise PocoTargetTimeout('appearance', self)\nE               poco.exceptions.PocoTargetTimeout: Waiting timeout for appearance of \"UIObjectProxy of \"明日莊園\"\"\n\nE:\\python\\lib\\site-packages\\poco\\proxy.py:679: PocoTargetTimeout\n\nDuring handling of the above exception, another exception occurred:\n\nself = <test_cases.test_build_search_page.TestBuildSearchPage object at 0x00000209FA6161F0>\n\n    @allure.title('新建案热词搜索')\n    def test_hot_keyword_search(self):\n        \"\"\"\n        测试热门关键词搜索\n        \"\"\"\n        # 获取热门关键词\n        hot_keyword_list = self.build_searchpage.get_hot_search_text()\n        print(hot_keyword_list)\n        sleep(1)\n        # 清空搜索历史\n        self.build_searchpage.clear_history()\n        sleep(1)\n>       assert_true(self.build_searchpage.pocos_exist_and_click(hot_keyword_list))\n\ntest_cases\\test_build_search_page.py:42: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\npages\\base_page.py:348: in pocos_exist_and_click\n    if self.poco_wait_click(txt, timeout=3):\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <pages.build_search_page.BuildSearchPage object at 0x00000209F9BF9C40>\npoco = '明日莊園', text = None, timeout = 3\n\n    def poco_wait_click(self, poco=None, text=None, timeout=10):\n        \"\"\"\n        等待元素出现，存在则点击，否则抛出异常\n        :param poco: 控件元素名\n        :param timeout: 超时时间\n        \"\"\"\n        try:\n            if poco is not None:\n                self.poco(poco).wait_for_appearance(timeout=timeout)\n                self.poco(poco).click()\n            elif text is not None:\n                self.poco(text=text).wait_for_appearance(timeout=timeout)\n                self.poco(text=text).click()\n            return True\n>       except poco.PocoTargetTimeout as e:\nE       AttributeError: 'str' object has no attribute 'PocoTargetTimeout'\n\npages\\base_page.py:366: AttributeError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_xunit_setup_class_fixture_TestBuildSearchPage","time":{"start":1704886218593,"stop":1704886276989,"duration":58396},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false},{"name":"init_setup","time":{"start":1704886276989,"stop":1704886277341,"duration":352},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false},{"name":"_xunit_setup_method_fixture_TestBuildSearchPage","time":{"start":1704886277341,"stop":1704886278687,"duration":1346},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false}],"testStage":{"description":"\n        测试热门关键词搜索\n        ","status":"broken","statusMessage":"AttributeError: 'str' object has no attribute 'PocoTargetTimeout'","statusTrace":"self = <pages.build_search_page.BuildSearchPage object at 0x00000209F9BF9C40>\npoco = '明日莊園', text = None, timeout = 3\n\n    def poco_wait_click(self, poco=None, text=None, timeout=10):\n        \"\"\"\n        等待元素出现，存在则点击，否则抛出异常\n        :param poco: 控件元素名\n        :param timeout: 超时时间\n        \"\"\"\n        try:\n            if poco is not None:\n>               self.poco(poco).wait_for_appearance(timeout=timeout)\n\npages\\base_page.py:360: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = UIObjectProxy of \"明日莊園\", timeout = 3\n\n    def wait_for_appearance(self, timeout=120):\n        \"\"\"\n        Block and wait until the UI element **appears** within the given timeout. When timeout, the\n        :py:class:`PocoTargetTimeout <poco.exceptions.PocoTargetTimeout>` is raised.\n    \n        Args:\n            timeout: maximum waiting time in seconds\n    \n        Raises:\n            PocoTargetTimeout: when timeout\n        \"\"\"\n    \n        start = time.time()\n        while not self.exists():\n            self.poco.sleep_for_polling_interval()\n            if time.time() - start > timeout:\n>               raise PocoTargetTimeout('appearance', self)\nE               poco.exceptions.PocoTargetTimeout: Waiting timeout for appearance of \"UIObjectProxy of \"明日莊園\"\"\n\nE:\\python\\lib\\site-packages\\poco\\proxy.py:679: PocoTargetTimeout\n\nDuring handling of the above exception, another exception occurred:\n\nself = <test_cases.test_build_search_page.TestBuildSearchPage object at 0x00000209FA6161F0>\n\n    @allure.title('新建案热词搜索')\n    def test_hot_keyword_search(self):\n        \"\"\"\n        测试热门关键词搜索\n        \"\"\"\n        # 获取热门关键词\n        hot_keyword_list = self.build_searchpage.get_hot_search_text()\n        print(hot_keyword_list)\n        sleep(1)\n        # 清空搜索历史\n        self.build_searchpage.clear_history()\n        sleep(1)\n>       assert_true(self.build_searchpage.pocos_exist_and_click(hot_keyword_list))\n\ntest_cases\\test_build_search_page.py:42: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\npages\\base_page.py:348: in pocos_exist_and_click\n    if self.poco_wait_click(txt, timeout=3):\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <pages.build_search_page.BuildSearchPage object at 0x00000209F9BF9C40>\npoco = '明日莊園', text = None, timeout = 3\n\n    def poco_wait_click(self, poco=None, text=None, timeout=10):\n        \"\"\"\n        等待元素出现，存在则点击，否则抛出异常\n        :param poco: 控件元素名\n        :param timeout: 超时时间\n        \"\"\"\n        try:\n            if poco is not None:\n                self.poco(poco).wait_for_appearance(timeout=timeout)\n                self.poco(poco).click()\n            elif text is not None:\n                self.poco(text=text).wait_for_appearance(timeout=timeout)\n                self.poco(text=text).click()\n            return True\n>       except poco.PocoTargetTimeout as e:\nE       AttributeError: 'str' object has no attribute 'PocoTargetTimeout'\n\npages\\base_page.py:366: AttributeError","steps":[],"attachments":[{"uid":"c9cb615d0edd459b","name":"log","source":"c9cb615d0edd459b.txt","type":"text/plain","size":10171}],"parameters":[],"attachmentsCount":1,"shouldDisplayMessage":true,"stepsCount":0,"hasContent":true},"afterStages":[{"name":"_xunit_setup_method_fixture_TestBuildSearchPage::0","time":{"start":1704886284841,"stop":1704886285103,"duration":262},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false},{"name":"_xunit_setup_class_fixture_TestBuildSearchPage::0","time":{"start":1704886303441,"stop":1704886303783,"duration":342},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false}],"labels":[{"name":"feature","value":"新建案首页搜索"},{"name":"epic","value":"APP广告监控"},{"name":"parentSuite","value":"test_cases"},{"name":"suite","value":"test_build_search_page"},{"name":"subSuite","value":"TestBuildSearchPage"},{"name":"host","value":"D012022050333"},{"name":"thread","value":"20388-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"test_cases.test_build_search_page"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"bceb07a029fffb6b.json","parameterValues":[]}