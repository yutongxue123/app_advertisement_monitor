{"uid":"8e23ddfd493d8cd2","name":"新建案首页左侧焦点广告","fullName":"test_cases.test_build_home_page.TestBuildHomePage#test_focus_advertisement","historyId":"58391262ccf3d21745401ec2bf94552c","time":{"start":1704886018543,"stop":1704886040865,"duration":22322},"description":"\n        判断新建案首页焦点左侧轮播图是否可以点击\n        ","descriptionHtml":"<pre><code>    判断新建案首页焦点左侧轮播图是否可以点击\n</code></pre>\n","status":"failed","statusMessage":"AssertionError: expression is not True, message:","statusTrace":"self = <test_cases.test_build_home_page.TestBuildHomePage object at 0x00000209FA6EB2E0>\nimg_url = 'https://newhouse.591.com.tw/133245'\n\n    @allure.title('新建案首页左侧焦点广告')\n    @pytest.mark.parametrize('img_url', get_advertisement_img(region_id, 91))\n    def test_focus_advertisement(self, img_url):\n        \"\"\"\n        判断新建案首页焦点左侧轮播图是否可以点击\n        \"\"\"\n        # 判断轮播图是否存在,且可以点击,并进入广告详情页\n        assert_true(self.build_homepage.image_wait_and_click(img_url, self.build_homepage.file_path, threshold=0.5, img_url=False))\n        # 判断广告详情页是否存在\n>       assert_true(self.build_homepage.is_detail_page_exist())\n\ntest_cases\\test_build_home_page.py:62: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nE:\\python\\lib\\site-packages\\airtest\\utils\\logwraper.py:124: in wrapper\n    res = f(*args, **kwargs)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nexpr = False, msg = '', snapshot = True\n\n    @logwrap\n    def assert_true(expr, msg=\"\", snapshot=True):  # noqa\n        \"\"\"\n        Assert expression is True ( bool(expr) is True )\n        Note that this is equivalent to bool(expr) is True and not to expr is True (use assertIs(expr, True) for the latter).\n    \n        :Example:\n    \n            >>> assert_true(1==1, msg=\"assert 1==1\")\n        \"\"\"\n>       assert bool(expr), \"expression is not True, message: %s\" % msg\nE       AssertionError: expression is not True, message:\n\nE:\\python\\lib\\site-packages\\airtest\\core\\assertions.py:100: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_xunit_setup_class_fixture_TestBuildHomePage","time":{"start":1704885868793,"stop":1704885918277,"duration":49484},"status":"broken","statusMessage":"poco.exceptions.PocoNoSuchNodeException: Cannot find any visible node by query UIObjectProxy of \"新建案\"\n","statusTrace":"  File \"E:\\python\\lib\\site-packages\\pluggy\\_callers.py\", line 39, in _multicall\n    res = hook_impl.function(*args)\n  File \"E:\\python\\lib\\site-packages\\_pytest\\fixtures.py\", line 1123, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"E:\\python\\lib\\site-packages\\_pytest\\fixtures.py\", line 895, in call_fixture_func\n    fixture_result = next(generator)\n  File \"E:\\python\\lib\\site-packages\\_pytest\\python.py\", line 856, in xunit_setup_class_fixture\n    _call_with_optional_argument(func, self.obj)\n  File \"E:\\python\\lib\\site-packages\\_pytest\\python.py\", line 777, in _call_with_optional_argument\n    func(arg)\n  File \"E:\\python_project\\app_advertisement_monitor\\test_cases\\test_build_home_page.py\", line 25, in setup_class\n    self.build_homepage.click_new_build()\n  File \"E:\\python_project\\app_advertisement_monitor\\pages\\build_home_page.py\", line 23, in click_new_build\n    self.poco(\"新建案\").click()\n  File \"E:\\python\\lib\\site-packages\\poco\\proxy.py\", line 29, in wrapped\n    raise e\n  File \"E:\\python\\lib\\site-packages\\poco\\proxy.py\", line 23, in wrapped\n    return func(proxy, *args, **kwargs)\n  File \"E:\\python\\lib\\site-packages\\poco\\proxy.py\", line 332, in click\n    pos_in_percentage = self.get_position(focus)\n  File \"E:\\python\\lib\\site-packages\\poco\\proxy.py\", line 72, in wrapped\n    return func(proxy, *args, **kwargs)\n  File \"E:\\python\\lib\\site-packages\\poco\\proxy.py\", line 613, in get_position\n    x, y = map(float, self.attr('pos'))\n  File \"E:\\python\\lib\\site-packages\\poco\\proxy.py\", line 39, in wrapped\n    return func(self, *args, **kwargs)\n  File \"E:\\python\\lib\\site-packages\\poco\\proxy.py\", line 734, in attr\n    nodes = self._do_query(multiple=False)\n  File \"E:\\python\\lib\\site-packages\\poco\\proxy.py\", line 888, in _do_query\n    raise PocoNoSuchNodeException(self)\n","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":true,"stepsCount":0,"hasContent":true},{"name":"_xunit_setup_class_fixture_TestBuildHomePage","time":{"start":1704885918316,"stop":1704885958625,"duration":40309},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false},{"name":"init_setup","time":{"start":1704886016045,"stop":1704886017204,"duration":1159},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false},{"name":"_xunit_setup_method_fixture_TestBuildHomePage","time":{"start":1704886017205,"stop":1704886017389,"duration":184},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false},{"name":"init_setup2","time":{"start":1704886017389,"stop":1704886018542,"duration":1153},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false}],"testStage":{"description":"\n        判断新建案首页焦点左侧轮播图是否可以点击\n        ","status":"failed","statusMessage":"AssertionError: expression is not True, message:","statusTrace":"self = <test_cases.test_build_home_page.TestBuildHomePage object at 0x00000209FA6EB2E0>\nimg_url = 'https://newhouse.591.com.tw/133245'\n\n    @allure.title('新建案首页左侧焦点广告')\n    @pytest.mark.parametrize('img_url', get_advertisement_img(region_id, 91))\n    def test_focus_advertisement(self, img_url):\n        \"\"\"\n        判断新建案首页焦点左侧轮播图是否可以点击\n        \"\"\"\n        # 判断轮播图是否存在,且可以点击,并进入广告详情页\n        assert_true(self.build_homepage.image_wait_and_click(img_url, self.build_homepage.file_path, threshold=0.5, img_url=False))\n        # 判断广告详情页是否存在\n>       assert_true(self.build_homepage.is_detail_page_exist())\n\ntest_cases\\test_build_home_page.py:62: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nE:\\python\\lib\\site-packages\\airtest\\utils\\logwraper.py:124: in wrapper\n    res = f(*args, **kwargs)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nexpr = False, msg = '', snapshot = True\n\n    @logwrap\n    def assert_true(expr, msg=\"\", snapshot=True):  # noqa\n        \"\"\"\n        Assert expression is True ( bool(expr) is True )\n        Note that this is equivalent to bool(expr) is True and not to expr is True (use assertIs(expr, True) for the latter).\n    \n        :Example:\n    \n            >>> assert_true(1==1, msg=\"assert 1==1\")\n        \"\"\"\n>       assert bool(expr), \"expression is not True, message: %s\" % msg\nE       AssertionError: expression is not True, message:\n\nE:\\python\\lib\\site-packages\\airtest\\core\\assertions.py:100: AssertionError","steps":[],"attachments":[{"uid":"46da81b1cce67f69","name":"log","source":"46da81b1cce67f69.txt","type":"text/plain","size":18570}],"parameters":[],"attachmentsCount":1,"shouldDisplayMessage":true,"stepsCount":0,"hasContent":true},"afterStages":[{"name":"_xunit_setup_method_fixture_TestBuildHomePage::0","time":{"start":1704886040865,"stop":1704886041131,"duration":266},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false},{"name":"_xunit_setup_class_fixture_TestBuildHomePage::0","time":{"start":1704886084522,"stop":1704886084522,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false}],"labels":[{"name":"epic","value":"APP广告监控"},{"name":"feature","value":"新建案首页"},{"name":"tag","value":"@pytest.mark.usefixtures('init_setup2')"},{"name":"parentSuite","value":"test_cases"},{"name":"suite","value":"test_build_home_page"},{"name":"subSuite","value":"TestBuildHomePage"},{"name":"host","value":"D012022050333"},{"name":"thread","value":"20388-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"test_cases.test_build_home_page"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"img_url","value":"'https://newhouse.591.com.tw/133245'"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["@pytest.mark.usefixtures('init_setup2')"]},"source":"8e23ddfd493d8cd2.json","parameterValues":["'https://newhouse.591.com.tw/133245'"]}